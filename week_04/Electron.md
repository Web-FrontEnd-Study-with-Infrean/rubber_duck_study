# Electron

일렉트론은 html css javascript 를 사용하여 데스크톱 어플리 케이션을 구축하기위한 프레임워크 입니다. 자바스크립트 코드베이스를 유지하면서 macOS Window 리눅스의 크로스플랫폼 앱을 만들 수 있습니다. 
  
일렉트론은 크로미움에서 다중 프로세스 아키텍쳐를 상속받습니다. 이때문에 현대 웹 브라우저와 구조적으로 유사하게 만듭니다.
  
웹 브라우저와의 유사성을 갖고있다 라는말은 일렉트론의 프로세스를 이해하려면 웹 브라우저에 대한 이해 크로미움에 대한 이해를 필요로 하는것과 같습니다.
  
초기 웹 브라우저는 단일프로세스로 여러 복잡한 기능과 여러개의 탭 기능들을 사용했었습니다. 각 탭에 대한 오버헤드는 적었지만 하나의 프로세스를 사용하기때문에 하나의 탭에 문제가 발생하게되면 전체 탭에 영향을 미치게되는 단점을 갖고 있었습니다.
  
이 문제를 해결하기위해 크롬에서는 각 탭이 자체 프로세스에서 렌더링 되도록하였고 자체 브라우저 및 렌더러 프로세스와 유사하게 일렉트론 개발자는 main 및 renderer 라는 두가지 유형의 프로세스를 제어할 수 있습니다.
  
크롬브라우저에서 단일브라우저 프로세스내에서 앱 전체에 영향을 갈 수 있는 부분을 제한하여 제한한 부분에 대해서는 탭 자체 프로세스에서 렌더링 되도록 결정했습니다. 일렉트론 또한 비슷한 방식으로 동작합니다. 단일 기본 프로세스는 Nodejs 환경에서 실행됩니다.
  
메인 프로세서의 목적은 BrowserWindow 모듈을 사용하여 응용 프로그램 창을 만들고 관리합니다. BrowserWindow 로 생성된 각 인스턴스는 별도의 렌더러 프로세스에서 웹 페이지를 로드하는 응용프로그램 창을 만듭니다.
  
메인 프로세스는 앱의 다른 모든 프로세스에 대한 상위 프로세스이며 운영체제가 상호작용하는 기본프로세스입니다. 때문에 메인 프로세스에 대해서 장기 실행작업으로 UI 스레드를 차단하면 안됩니다. 만약 차단하는일이 발생할경우 전체 앱이 정지될 수 있습니다.
  
일렉트론은 웹용으로 작성된 코드와 동일한 방식으로 개발이 가능하다고 했는데 일렉트론은 구문 분석할 엔진을 정확히 알고있다는점이 이점으로 작용합니다. 웹에서는 브라우저의 여러가지 버전과 서로 다른 브라우저간에 폴리필등을 통해 추가 리소스로 크로스브라우징을 지원해야하는 부분이있지만 일렉트론에 이러한 불필요한 리소스가 포함될경우 앱의 속도를 저하시킬 수 있습니다.
  
또한 비용이 많이 드는 설정 작업같은경우는 해당 작업에 대해서 연기하는것이 좋습니다. 일반적으로 Nodejs 를 사용할때 최상단에 require 문을 두고 사용을 하교 여기에 익숙해져있는데 일렉트론에서는 require 가 비용이 많이 드는 작업입니다. 때문에 require 를 사용할때는 필요한 함수내에서 불러와 사용되도록 해야합니다. 이 부분은 리액트의 다이나믹임포트와 동일하다고 볼 수 있을것같습니다

일렉트론 자체로 어플리케이션을 구현해도되지만 튜토리얼이나 블로그를 찾아보면 주로 Vue + Electron 으로 구현을 많이 하는것같습니다 웹 구현은 Vue 로 하고 일렉트론은 메인프로세스와 어플리케이션 빌드 용도정도로만 사용하는것같습니다.
  
자바스크립트로 그것도 웹을 만들던것과 동일하게 환경설정을 통해 데스크톱어플리케이션을 만들 수 있다는건 매우 매력적이고 자바스크립트 개발자들에게는 환영할만한 일이긴한데 이게 단점이 자체적으로 브라우저와 유사한 환경을위해 엔진을 들고있다보니 용량이 매우 크다는겁니다. 좀더 알아봐야겠지만 노드모듈을 통째로 포함하고 있다고 합니다. 
  
웹에서의 크로스브라우징을 신경안써도되고 한번에 여러 플랫폼의 데스크톱 어플리케이션을 만들 수 있다는 장점은 있지만 이런 사이즈 부분에서는 좀더 최적화에 신경을 쓰면서 개발을 해야되겠다 라는 생각입니다. 

## 참고자료
일렉트론의 프로세스를 이해기위한 크로미움 모던 브라우저에 대한 자료
- [모던 웹 브라우저 들여다보기](https://developers.google.com/web/updates/2018/09/inside-browser-part1)
- [삼성 SDS 인사이트 리포트](https://www.samsungsds.com/kr/insights/1239178_4627.html)