# 함수형 프로그래밍
함수형 프로그래밍은 프로그래밍 패러다임중 하나로 객체지향형 프로그래밍과 비교대상이 됩니다. 어떤 관점으로 접근하느냐에 따라 나뉘어질 수 있을것같은데 다르게 구분지어자면
- 명령형 프로그래밍 : 객체지향 프로그래밍
- 선언형 프로그래밍: 함수형 프로그래밍

명령형 프로그래밍은 어떻게 할것인지 설명하는 방식이고 선언형 프로그래밍은 무엇을 할건지를 설명하는 방식입니다.
  
예를들어 고양이에 대해서 객체지향적으로 작성한다고 하면 객체를 생성하는 클래스내에 고양이의 이름 나이 성별같은 원시타입의 데이터와 고양이의 여러가지 행동 패턴들이 메소드로 작성됩니다. 이 메소드들은 객체 내에 생성된 변수나 초기 데이터들을 사용하거나 변경합니다. 즉 고양이 라는 객체를 생성할때 이 고양이는 어떤 고양이이고 어떤 행동들을 하는지 하나하나 정의를 해주는 개념입니다. 때문에 명령형 프로그래밍에 속합니다.
  
함수형 프로그래밍은 뭘 할건지에 집중한다. 고양의 행동을 정의할거면 단 한가지의 행동만 선언하고 고양이의 이름을 얻고싶으면 이름을 얻고자하는 하나의 함수만 선언합니다.

## 함수형 프로그래밍의 조건
1. 함수는 일급객체여야한다.
2. 함수는 순수함수여야한다.
3. 함수하나는 하나의 역할만 수행해야한다.
4. 함수는 사이드이펙트가 없어야한다.
5. 입력값이 동일하다면 출력값또한 항상 동일해야한다.

## 함수형 프로그래밍 작성방법
함수형 프로그래밍은 하나의 역할만 하는 순수함수들의 조합을 통해 합성함수를 만들어 사용할 수 있습니다. 이 합성함수를 만들어 사용할때 이해하고 있어야 하는 개념이 자바스크립트에서는 클로저, 고차함수, 메모이제이션, 커링 등과 관련된 내용들을 이해하고 있으면 여러가지 기법으로 함수형 프로그래밍코드를 작성해 나갈 수 있습니다.

### 고차함수
고차함수는 함수를 인자로 받아 함수를 리턴하는 함수를 말한다. 주로 공통 로직에 대해서 공통함수를 활용할 수 있다. 고차함수를 활용하여 만들 수 있는게 커리함수이다. 함수가 함수를 만드는 기법으로 함수를 호출하면 익명함수를 리턴한다.

### 클로저
클로저라고 부를 수 있으려면 내부함수가 외부함수의 환경을 실행컨텍스트에의해서 갖고 있어야한다. 이때 외부함수의 환경은 내부함수가 아니면 더이상 접근할 수 없는 값이어야 하기때문에 전역환경의 변수나 함수를 사용하는 내부함수를 클로저라고 할 수는 없다.

### 함수형 프로그래밍의 장점
함수형 프로그래밍의 장점은 함수 하나가 하나의 역할만하고 사이드이펙트가 없는 순수함수형태로 만들어야 하기때문에 테스트하기 편하고 함수간의 조합을 통해서 무한히 또다른 순수함수를 만들어 낼 수 있다. 이때 함수형 프로그래밍으로 작성할때 만약 잘못된 값이 들어왔을때라도 에러를 리턴하는것이 아닌 리턴하려는 타입의 객체로 리턴해야한다. 만약 에러를 리턴하게된다면 함수를 사용할때 그 에러처리를 별도로 개발자가 해주어야 하기때문에 본래 리턴하려고했던 타입의 비어있는 객체 형태로 리턴하는것이 좋다. 
  
명확한 이름으로 만들어진 함수는 가독성을 높여주고 추가적인 기능이나 함수가 필요할때 기존의 함수를 수정하느것이아닌 기존의 함수를 활용하여 확장가능한 새로운 함수를 만들어 사용할 수 있다.

### 함수형 프로그래밍의 단점
- 러닝커브
- 제대로 작성되지않으면 오히려 혼동을 줄 수있음
- 하드웨어관점에서 메모리적인 문제가 발생할 수 있음

# RxJs
RxJS 는 이벤트 기반 프로그래밍에서 함수형 프로그래밍을 활용하여 선언적으로 이벤트를 처리할 수 있도록 도와주는 라이브러리입니다. RxJS 모든 이벤트를 옵저버블로 추상화하여 시간에 따른 스트림으로 간주할 수 있게 합니다. 말이 좀 어려운데 옵저버블은 특정 이벤트들을 하나의 옵저버블로 묶어서 subscribe() 프로퍼티를 사용하여 옵저버와 연결하고 옵저버에게 이벤트의 실행결과를 전달해줍니다. 
  
예를들어 클릭이벤트가 발생할때마다 카운트가 증가하는 핸들러를 만든다 했을때 카운트의 증가를 위해서 전역에 변수를 지정해야합니다. 이렇게될경우 이 이벤트핸들러는 순수함수가 이미 깨져버립니다. RxJS 를 사용하면 옵저버블내에서 RxJS 에서 제공하는 순수함수들을 연결하여 순수한 이벤트 핸들러를 생성할 수 있습니다.
  
RxJS 는 리액티브 프로그래밍이 가능한데 무슨말이냐면 리액티브프로그래밍은 모든것을 데이터 스트림 즉 연속적인 데이터 흐름으로 봅니다. 동기와 비동기상관없이 데이터스트림으로 처리할 수 있고 구독을 통해 데이터스트림의 상태변화에 따라 반응하는 방식으로 동작하도록 할 수 있습니다.
  
옵저버가 데이터를 가공하고 생산하는 옵저버블을 구독하고 옵저버는 옵저버블의 상태를 관찰합니다. 
  
RxJS 는 비동기 처리를 위한 대안으로 사용할 수 있는데 기존의 비동기 처리방식의 단점을 보면 한번에 하나의 데이터를 처리하기때문에 연속성을 갖는 데이터를 처리하기 어렵고 서버로 보낸 요청은 취소할 수 없다는 단점이 있습니다. 만약 input 의 변경에 따라 서버로 요청하는 코드가 있다면 키보드의 입력횟수만큼 서버에 요청을 보내게 됩니다. RxJS 는 요청을 지연 시킬 수 있고 특정 조건에 따라서는 서버에 전달하려던 요청을 취소할수도있습니다.
  
HTTP 요청은 subscribe 를 실행할때 발생하며 옵저버블을 구독하지않는다면 어떤 요청도 발생하지 않습니다.
  
옵저버블을 사용하면 동기/비동기 모두 처리할 수 다고했는데 일반 함수와 달리 옵저버블을 사용하면 하나의 함수로 한번에 여러가지 값을 리턴할 수 있습니다.